import pandas as pd
df = pd.read_csv("covid_data.csv")
df.info()
print(df)
o = df[["Country_Region", "Province_State", "Confirmed", "Recovered", "Deaths"]]
print(o)
print(o.isnull().sum())
o["Province_State"].fillna("", inplace = True)
print(o.isnull().sum())
#top 10 most affected countries
print(o["Country_Region"].value_counts())
g = o.groupby("Country_Region")
sum = g.sum()
s = sum.sort_values(by = "Confirmed", ascending = False)
top10countries = s.head(10)
print(top10countries)
import matplotlib.pyplot as plt
plt.bar(top10countries.index,top10countries["Confirmed"], 0.2)
plt.show()
#scatter plot for the 10 countries with highest recoveries
plt.scatter(top10countries.index, top10countries["Recovered"])
plt.xlabel("Country")
plt.ylabel("Recovered")
#print(top10countries["Recovered"] // top10countries["Recovered"].min() * 10)
plt.show()
#top 10 states of US
#u = o.loc[o["Country_Region"] == "US"]
#print(u)
u = g.get_group("US")
print(u)
ost = u.sort_values(by = "Confirmed", ascending = False)
tts = ost.head(10)
print(tts)
plt.scatter(tts["Province_State"], tts["Confirmed"], s = tts["Confirmed"] / tts["Confirmed"].min() * 5)
plt.xlabel("State")
plt.ylabel("Confirmed")
plt.title("top 10 most affected states in US")
plt.show()
#bar plot for 5 states with highest deaths on India
i = g.get_group("India")
osti = i.sort_values(by = "Deaths", ascending = False)
ttsi = osti.head(5)
plt.bar(ttsi["Province_State"], ttsi["Deaths"])
plt.xlabel("State")
plt.ylabel("Deaths")
plt.title("top 5 states highest deaths in India")
plt.show()
